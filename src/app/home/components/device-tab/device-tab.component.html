<p-tabView>
  <p-tabPanel header="Create Device">
    <form [formGroup]="deviceForm" (ngSubmit)="onSubmit()">
      <div class="p-field">
        <label for="name">Name</label>
        <input id="name" pInputText formControlName="name" />
      </div>

      <div class="p-field">
        <label for="refrigerantType">Refrigerant</label>
        <p-dropdown 
          formControlName="refrigerantType"
          [options]="refrigerants" 
          optionLabel="name"
          placeholder="Select a refrigerant">
        </p-dropdown>
      </div>

      <div class="p-field">
        <label for="capacity">Capacity</label>
        <input id="capacity" type="number" pInputText formControlName="capacity" />
      </div>

      <button type="submit" pButton label="Create Device" [disabled]="deviceForm.invalid" class="p-button-primary"></button>
    </form>
  </p-tabPanel>

  <p-tabPanel header="View Devices">
    <p-table [value]="devices">
      <ng-template pTemplate="header">
        <tr>
          <th>Name</th>
          <th>Capacity</th>
          <th>Refrigerant</th>
          <th>Actions</th>
        </tr>
      </ng-template>
      <ng-template pTemplate="body" let-device>
        <tr>
          <td>{{ device.name }}</td>
          <td>{{ device.capacity }}</td>
          <td>{{ device.refrigerantType?.name }}</td>
          <td>
            <button pButton icon="pi pi-eye" label="Details" class="p-button-text" (click)="goToDetails(device._id)"></button>
          </td>
        </tr>
      </ng-template>
    </p-table>
  </p-tabPanel>
</p-tabView>
